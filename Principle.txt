Login & discovery (UDP)
 
When the application is launched, a request to have the list of users is sent in broadcast.
The last user connected responds: this user sends the list of users in unicast.
 
When the user tries to connect, the unicity of the pseudo is checked. If the pseudo is not already used by one of the users, the connection is accepted. Else, the user has to enter a new pseudo.
When the user is connected, a UDP packet is sent to the other connected users in order they update their list of users.
 
Exchange of messages (TCP)
After user has finished to login, a server opens to accept future client connections. When a connection is established with distant user thanks to an handler, a packet from client user is sent to server to know who is the distant user who wants to chat with him/her and to allow user to send message to the right distant user.